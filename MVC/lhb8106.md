## ğŸ“Œ MVC (Model - View - Controller)


mvc ë””ìì¸ íŒ¨í„´ì€ í•˜ë‚˜ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ Model, View, Controllerë¡œ ì´ë£¨ì–´ì§„ 3ê°œì˜ ì¸¡ë©´ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ê°œë°œí•˜ëŠ” ë””ìì¸ íŒ¨í„´

![Untitled (1)](https://user-images.githubusercontent.com/69586104/236079339-bfb12a2c-55e6-453d-bc20-9ea1a1e794e7.png)

<br>

### Model

- Viewì— í‘œì‹œë˜ê¸° ìœ„í•´ í•„ìš”í•œ **ë°ì´í„°**
- ì–´ë–»ê²Œ ë°ì´í„°ê°€ ë³€ê²½ë˜ê³  ì¡°ì‘ë  ìˆ˜ ìˆëŠ”ì§€ì— ê´€í•œ ê·œì¹™ì„ ì •ì˜

<br>

### View

- ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” ë³´ì´ëŠ” í™”ë©´(xml)
- Controllerë¡œ ë¶€í„° ë°›ì€ UI ë°ì´í„°ë¥¼ í‘œì‹œí•˜ëŠ” ì—­í• 

<br>

### Controller

- ì‚¬ìš©ìì˜ ìš”ì²­ ì²˜ë¦¬
- Modelì„ í†µí•´ ë°›ì€ ë°ì´í„° ì²˜ë¦¬ ë˜ëŠ” ê²°ê³¼ ê°’ì„ Viewì— ë°˜í™˜
- Viewì™€ Model ì‚¬ì´ë¥¼ ì¤‘ì¬í•˜ëŠ” ì—­í• 

<br>

### ë™ì‘ ë°©ì‹

> 1. ì‚¬ìš©ìì˜ ìš”ì²­ì´ Activity(View + Controller)ì— ë“¤ì–´ì˜´
> 2. ControllerëŠ” ìš”ì²­ì— ë§ê²Œ Modelì„ ì—…ë°ì´íŠ¸
> 3. Controllerì—ì„œ ì—…ë°ì´íŠ¸ ëœ Modelì„ ë‚˜íƒ€ë‚´ì¤„ Viewë¥¼ ì„ íƒ
> 4. ViewëŠ” ì—…ë°ì´íŠ¸ ëœ Modelì„ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ê¸° ìœ„í•´ UI ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸
 

<br>

### íŠ¹ì§•

- Controllerê°€ ì—¬ëŸ¬ê°œì˜ Viewë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” 1:n êµ¬ì¡°
    

![Untitled (2)](https://user-images.githubusercontent.com/69586104/236079643-3a035b3b-d294-40ed-8061-6084e46f89e4.png)

<br>

### ì¥ì 

- ê°€ì¥ ë‹¨ìˆœí•œ íŒ¨í„´ìœ¼ë¡œ ì—¬ëŸ¬ ê°œë°œ ë¶„ì•¼ì—ì„œ ë³´í¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë””ìì¸ íŒ¨í„´
- ë¹ ë¥¸ ê°œë°œ ê°€ëŠ¥

<br>


### ë‹¨ì 

- Viewì™€ Modelì‚¬ì´ì˜ ì˜ì¡´ì„±ì´ ë†’ìŒ
- ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì»¤ì§ˆìˆ˜ë¡ ë³µì¡í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›€
- í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì´ ì–´ë ¤ì›€

<br>
<br>

### ğŸ¤” ë‚´ ìƒê° ğŸ¤”

ì•ˆë“œë¡œì´ë“œì˜ ê²½ìš°ëŠ” Cì™€ Vê°€ Activityì— ì„ì—¬ìˆëŠ” ê¸°í˜•ì  êµ¬ì¡°ì„

ê·¸ëŸ°ë° êµ³ì´ MVCë¡œ ë‚˜ëˆ„ìë©´ Vê°€ xml, Cê°€ Activityê°€ ë˜ëŠ” êµ¬ì¡°

xmlì™€ activityë¥¼ í•˜ë‚˜ì˜ ë‹¨ìœ„ë¡œ ë³´ë©´ viewì™€ model ì‚¬ì´ì˜ ì˜ì¡´ì„±ì´ ë†’ìŒ

![Untitled](https://user-images.githubusercontent.com/69586104/236079352-2614b796-1617-48e3-90ea-659e870f8992.png)
![ë‹¤ìš´ë¡œë“œ (1)](https://user-images.githubusercontent.com/69586104/236081280-8baf8fd3-0720-4495-9f6c-22f9240e6c26.png)


<br>

### ğŸ‘©â€ğŸ’» ì˜ˆì œ ì½”ë“œ

### Model

```kotlin
class MainModel(val context: Context) {

    fun getListDatas(): ArrayList<String> {
        val datas: ArrayList<String> = ArrayList<String>()
        //dbms
        val helper=DBHelper(context)
        val db=helper.readableDatabase
        val cursor = db.rawQuery("select * from tb_test", null)
        while(cursor.moveToNext()){
            datas.add(cursor.getString(1))
        }
        db.close()
        return datas
    }

    fun addItem(item: String){
        val helper=DBHelper(context)
        val db=helper.writableDatabase
        db.execSQL("insert into tb_test (todo) values (?)", arrayOf(item))
        db.close()
    }
}
```

### View

```kotlin
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <ListView
        android:id="@+id/listView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"/>
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:layout_alignParentBottom="true">
        <EditText
            android:id="@+id/editView"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"/>
        <Button
            android:id="@+id/button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="add"/>
    </LinearLayout>
</RelativeLayout>
```

### Controller

```kotlin
class MVCMainActivity : AppCompatActivity(), View.OnClickListener {
    lateinit var datas: ArrayList<String>
    lateinit var adapter: ArrayAdapter<String>

    val model=MainModel(this)

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        setContentView(R.layout.activity_main)
        button.setOnClickListener(this)
        datas=model.getListDatas()
        adapter=ArrayAdapter(this, android.R.layout.simple_list_item_1, datas)
        listView.adapter = adapter
    }

    override fun onClick(v: View?) {
        val data: String = editView.text.toString()
        model.addItem(data)
        datas.add(data)
        adapter.notifyDataSetChanged()
        editView.setText("")
    }
}
```



<br>
<br>

### 1ï¸âƒ£ 1ë¶„ ë‹µë³€
<br>
<aside>

MVCì´ë€ Model, View, Controllerë¡œ ë¶„ë¦¬ë˜ì–´ìˆìœ¼ë©° Mì€ viewì— í‘œì‹œë˜ê¸° ìœ„í•´ í•„ìš”í•œ ë°ì´í„°, VëŠ” ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” í™”ë©´, CëŠ” viewì™€ modelì‚¬ì´ë¥¼ ì¤‘ì¬í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ìš”ì²­ì´ Activityì— ë“¤ì–´ì˜¤ë©´ controllerëŠ” ìš”ì²­ì— ë§ê²Œ modelì„ ì—…ë°ì´íŠ¸í•˜ê³ , Controllerì—ì„œ ì—…ë°ì´íŠ¸ ëœ Modelì„ ë‚˜íƒ€ë‚´ì¤„ Viewë¥¼ ì„ íƒí•©ë‹ˆë‹¤. ViewëŠ” ì—…ë°ì´íŠ¸ ëœ Modelì„ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ê¸° ìœ„í•´ UI ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™ë©ë‹ˆë‹¤.
ë¹ ë¥¸ ê°œë°œì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì»¤ì§ˆìˆ˜ë¡ ë³µì¡í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë µë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.

</aside>



ì¶œì²˜: 
- [https://taeyeonkim93.github.io/2019/12/02/Programming-kotlin-2019-12-02-android-framework-pattern/](https://taeyeonkim93.github.io/2019/12/02/Programming-kotlin-2019-12-02-android-framework-pattern/)
- https://beomy.tistory.com/43
- https://jooncco.com/design%20pattern/mvc/
- https://frtt0608.tistory.com/93
